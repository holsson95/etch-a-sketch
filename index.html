<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <div id= "container">
            <button id="changeContainer">New Grid</button>
        </div>

        <style>

        </style>

       
        
   
    <script> 
        const container = document.querySelector('#container');
        const content = document.createElement('div');
        const changeContainer = document.querySelector('#changeContainer');
        content.classList.add('content'); //necessary?
        content.setAttribute("id","content");
        content.style.cssText='justify-content:center; display: inline-grid; height: 600px; width: 600px; border: solid; ';
        
        
        
        let items = document.querySelectorAll('.item');
        
        
    
        function start(size){
            content.style.gridTemplateColumns ='repeat('+size+',2fr)';
            content.style.gridTemplateRows ='repeat('+size+',2fr)';
                for (i=0;i<size*size;i+=1){
                    const gridDiv = document.createElement('div');
                    gridDiv.classList.add('item');
                    gridDiv.style.cssText ='border: 1px solid gray';
                    
                    content.appendChild(gridDiv);
                }
            container.appendChild(content);
            //draw
            document.querySelectorAll('.item').forEach(function(items){
            items.addEventListener("mouseover",mouseOver);
            function mouseOver(){
                items.style.backgroundColor = "blue";
            }

        });
        }
        //default
        start(16,16);

        changeContainer.addEventListener("click", newGrid);

        function newGrid(){
            
            let size = prompt("Choose a grid square size no more than 100");
            
            //remove current grid items
            let oldContainer = document.getElementById("content");
            while (content.firstChild){
                oldContainer.removeChild(content.firstChild);
            }
            if (size>100){
                alert("Error: Too Big");
                start (16,16);
            }
            else{
                start(size);
            }
        }
                  
    </script>
     </body>

</html>